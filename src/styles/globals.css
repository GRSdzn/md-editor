@import "tailwindcss";

/* =========================================================
   Переменные тем и цветов
   ========================================================= */
:root {
  /* Шрифты */
  --font-sans: "Inter", sans-serif;
  --font-mono: "Fira Code", monospace;

  /* Основные цвета */
  --color-primary: #e58646;
  --color-primary-hover: #3c32b3;
  --color-background: #f9fafb;
  --color-foreground: #171717;
  --color-foreground-muted: #4b5563;
  --color-card: #ffffff;
  --color-button-bg: #e5e7eb;
  --color-button-text: #111827;
  --color-section-bg: #ffffff;
  --color-code-bg: #fff;
  --color-code-text: #10b981;
  --color-canvas-default: #f9fafb;
  --color-canvas-subtle: #f3f4f6;
  --color-gray-block: #e2e2e2;

  /* Градиенты */
  --hero-gradient: linear-gradient(to bottom right, #c7d2fe, #e9d5ff, #fbcfe8);
}

/* =========================================================
   Тёмная тема
   ========================================================= */
.dark {
  --color-primary: #e58646;
  --color-primary-hover: #4f46e5;
  --color-background: #0f0f0f;
  --color-foreground: #f0f0f0;
  --color-foreground-muted: #d1d5db;
  --color-card: #1e1e1e;
  --color-button-bg: #1f1f1f;
  --color-button-text: #f0f0f0;
  --color-section-bg: #1e1e1e;
  --color-code-bg: #111111;
  --color-code-text: #22c55e;
  --color-canvas-default: #0d1117;
  --color-canvas-subtle: #161b22;
  --hero-gradient-dark: linear-gradient(
    to bottom right,
    #1e1e1e,
    #2c2c2c,
    #111111
  );
  --color-gray-block: #2b2b2b;
}

/* =========================================================
   Универсальные утилиты
   ========================================================= */
.bg-background {
  background-color: var(--color-background);
}
.text-foreground {
  color: var(--color-foreground);
}
.text-foreground-muted {
  color: var(--color-foreground-muted);
}
.bg-card {
  background-color: var(--color-card);
}
.bg-button {
  background-color: var(--color-button-bg);
}
.text-button {
  color: var(--color-button-text);
}
.bg-section {
  background-color: var(--color-section-bg);
}
.bg-code {
  background-color: var(--color-code-bg);
}
.text-code {
  color: var(--color-code-text);
}
.bg-primary {
  background-color: var(--color-primary);
}
.text-primary {
  color: var(--color-primary);
}
.hover\:bg-primary-hover:hover {
  background-color: var(--color-primary-hover);
}
.bg-hero-gradient {
  background: var(--hero-gradient);
}
.bg-hero-gradient-dark {
  background: var(--hero-gradient-dark);
}

/* =========================================================
   Базовые стили
   ========================================================= */
@layer base {
  body {
    font-family: var(--font-sans);
    background-color: var(--color-background);
    color: var(--color-foreground);
    transition: background-color 0.3s, color 0.3s;
  }

  /* Кнопки */
  .btn {
    @apply font-semibold px-6 py-3 rounded-lg shadow-md transition-all duration-300;
    background-color: var(--color-primary);
    color: var(--color-button-text);
  }
  .btn:hover {
    background-color: var(--color-primary-hover);
    transform: translateY(-2px);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
  }
  .btn:active {
    transform: translateY(0);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
  }

  /* Карточки */
  .card {
    @apply p-6 rounded-xl shadow-md transition-all duration-300;
    background-color: var(--color-card);
    color: var(--color-foreground);
  }
  .card:hover {
    @apply shadow-xl;
    transform: translateY(-3px);
  }

  /* =========================================================
     Markdown Editor
     ========================================================= */
  .md-editor-custom {
    --w-md-editor-toolbar-background: var(--color-section-bg);
    --w-md-editor-toolbar-border: var(--color-foreground-muted);
    --w-md-editor-content-background: var(--color-section-bg);
    --w-md-editor-content-color: var(--color-foreground);
    --w-md-editor-preview-box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s, color 0.3s;
  }

  .md-editor-custom .w-md-editor-toolbar {
    background-color: var(--w-md-editor-toolbar-background) !important;
    border-bottom: 1px solid var(--w-md-editor-toolbar-border) !important;
    padding: 0.5rem !important;
  }

  .md-editor-custom .w-md-editor-content {
    background-color: var(--w-md-editor-content-background) !important;
    color: var(--w-md-editor-content-color) !important;
  }

  .md-editor-custom .w-md-editor-preview {
    background-color: var(--w-md-editor-content-background) !important;
    color: var(--w-md-editor-content-color) !important;
    box-shadow: var(--w-md-editor-preview-box-shadow) !important;
  }

  /* =========================================================
     Markdown таблицы
     ========================================================= */
  .wmde-markdown table {
    width: 100%;
    border-collapse: collapse;
    background-color: var(--color-section-bg);
    color: var(--color-foreground);
    transition: background-color 0.3s, color 0.3s;
  }

  .wmde-markdown th,
  .wmde-markdown td {
    border: 1px solid var(--color-foreground-muted);
    padding: 0.5rem 1rem;
    text-align: left;
    background-color: var(--color-gray-block);
    color: var(--color-foreground);
    transition: background-color 0.3s, color 0.3s;
  }

  .wmde-markdown tr:nth-child(even) {
    background-color: rgba(0, 0, 0, 0.03);
  }

  .dark .wmde-markdown table,
  .dark .wmde-markdown th,
  .dark .wmde-markdown td {
    background-color: var(--color-gray-block);
    color: var(--color-foreground);
  }

  .dark .wmde-markdown tr:nth-child(even) {
    background-color: rgba(255, 255, 255, 0.05);
  }

  .md-editor-custom .w-md-editor-toolbar ul > li {
    padding: 0.5rem !important;
  }

  .md-editor-custom .w-md-editor-toolbar ul > .w-md-editor-toolbar-divider {
    padding: 1px !important;
  }
  /* =========================================================
     Markdown блоки кода
     ========================================================= */

  .wmde-markdown pre,
  .wmde-markdown code {
    font-family: var(--font-mono);
    padding: 1rem;
    margin: 0.5rem 0;
    border-radius: 6px;
    overflow-x: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
    transition: background-color 0.3s, color 0.3s;
    background-color: var(--color-gray-block) !important;
    color: var(--color-foreground) !important;
  }

  .dark .wmde-markdown pre,
  .dark .wmde-markdown code {
    background-color: var(--color-gray-block) !important;
    color: var(--color-foreground) !important;
  }

  /* =========================================================
     Адаптация тулбара и превью
     ========================================================= */
  .md-editor-custom .w-md-editor-toolbar {
    border-bottom: 1px solid var(--color-foreground-muted) !important;
  }

  .dark .md-editor-custom .w-md-editor-toolbar {
    border-bottom: 1px solid var(--color-foreground-muted) !important;
  }

  .dark .md-editor-custom .w-md-editor-preview {
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
  }
}

/* =========================================================
   Плавные переходы
   ========================================================= */
* {
  transition: background-color 0.3s, color 0.3s;
}
